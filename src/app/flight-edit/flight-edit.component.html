<div class="card">
  <div class="card-header">
    <h2 class="card-title">Flight Edit</h2>
  </div>

  <mat-dialog-content>
    <div class="card-body">
      <form #editForm="ngForm">
        <div
          *ngIf="editForm?.controls?.['from']?.invalid"
          class="alert alert-danger"
        >
          The "From" control has an error state!
        </div>
        <div
          *ngIf="editForm?.controls?.['from']?.hasError('required')"
          class="alert alert-danger"
        >
          The "From" control is mandatory - please enter a value!
        </div>
        <div
          *ngIf="editForm?.controls?.['from']?.hasError('minlength')"
          class="alert alert-danger"
        >
          The "From" control needs to have a least
          {{ editForm?.controls?.['from']?.errors?.['minlength']?.['requiredLength'] }}
          chars entered!
        </div>
        <div
          *ngIf="editForm?.controls?.['from']?.hasError('city')"
          class="alert alert-danger"
        >
          The entered city name is not allowed!<br />
          Please enter one of the following city names:<br />
          {{ editForm?.controls?.['from']?.errors?.['city']?.['allowedCities'].join(', ') }}
        </div>
        <div *ngIf="editForm?.controls?.['from']?.errors">
          <pre>{{ editForm?.controls?.['from']?.errors | json }}</pre>
        </div>

        <div class="form-group">
          <label>Id:</label>
          <input [(ngModel)]="flight.id" name="id" class="form-control" />
        </div>

        <div class="form-group">
          <label>From:</label>
          <input
            [(ngModel)]="flight.from"
            name="from"
            class="form-control"
            required
            minlength="3"
            [city]="['Graz', 'Hamburg', 'Berlin']"
          />
        </div>

        <div class="form-group">
          <label>To:</label>
          <input [(ngModel)]="flight.to" name="to" class="form-control" />
        </div>

        <div class="form-group">
          <label>Date:</label>
          <input [(ngModel)]="flight.date" name="date" class="form-control" />
        </div>

        <div class="form-group">
          <input
            [(ngModel)]="flight.delayed"
            name="delayed"
            id="delayed"
            type="checkbox"
            class="form-checkbox"
          />
          <label for="delayed">Delayed</label>
        </div>

        <div class="form-group">
          <button (click)="close()" class="btn btn-default">Close</button>
        </div>
      </form>
    </div>
  </mat-dialog-content>
</div>
